window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({Canvas:[function(t,e,n){"use strict";cc._RF.push(e,"ad6c9gy28VJe7fqwblL8vsS","Canvas"),cc.Class({extends:cc.Component,properties:{GamePlayUI:{default:null,type:cc.Node}},onLoad:function(){this.GamePlayUI.active=!0}}),cc._RF.pop()},{}],ConstVar:[function(t,e,n){"use strict";cc._RF.push(e,"4625bY9DapNX7IJRjnI3vIE","ConstVar"),window.score=3,window.highScore=0,cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],GameOver:[function(t,e,n){"use strict";cc._RF.push(e,"a3d6ayAKcRPvqM/CO2v9gVT","GameOver"),cc.Class({extends:cc.Component,properties:{scoreLb:{default:null,type:cc.Label},highScoreLb:{default:null,type:cc.Label}},start:function(){this.scoreLb.string=score,this.highScoreLb.string=highScore}}),cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"4ade8pfqgRK4q7LCSogmqkC","Game");cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},startGround:{default:null,type:cc.Node},endGround:{default:null,type:cc.Node},platform1:{default:null,type:cc.Node},platform2:{default:null,type:cc.Node},platformPrefab:{default:null,type:cc.Prefab},score:{default:null,type:cc.Label},jumpAudio:{default:null,type:cc.AudioClip},landingAudio:{default:null,type:cc.AudioClip},waterAudio:{default:null,type:cc.AudioClip},splashAudio:{default:null,type:cc.AudioClip},tabtoContinuePrefab:{default:null,type:cc.Prefab},waterPrefab:{default:null,type:cc.Prefab},scoreFxPrefab:{default:null,type:cc.Prefab},HomeUI:{default:null,type:cc.Node},MainUI:{default:null,type:cc.Node},GamePlayUI:{default:null,type:cc.Node}},onLoad:function(){cc.audioEngine.stopAll(),console.log(score),this.checkWaterLogic=!1,this.canTouch=!1,this.gravity=0,this.gameOver=!1,this.playanim=!0,this.HomeUI.active=!1,this.MainUI.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),cc.director.getPhysicsManager().gravity=cc.v2(0,0)},start:function(){cc.audioEngine.playEffect(this.splashAudio,!0),cc.audioEngine.setEffectsVolume(.5),this.playerController=this.player.getComponent("Player"),this.arrPlatForm=[],this.arrWaterAnim=[],this.creatWaterAnim(cc.v2(this.endGround.getPosition().x+this.endGround.width/2-4,this.endGround.getPosition().y-this.endGround.height/2));for(var t=1;t<8;t++)this.creatWaterAnim(cc.v2(this.arrWaterAnim[t-1].x+184,this.arrWaterAnim[t-1].y));this.arrPlatForm.push(this.startGround),this.arrPlatForm.push(this.endGround),this.arrPlatForm.push(this.platform1),this.arrPlatForm.push(this.platform2),this.score.string="0",this.scoreCount=0},onTouchStart:function(t){console.log(this.canTouch+"hey"+this.gameOver),1==this.canTouch&&0==this.gameOver&&(this.playerController.jumping=!0,this.playerController.timeJump=0,console.log("Play"))},onTouchEnd:function(t){1==this.canTouch&&0==this.gameOver&&(this.playerController.loadMap=!0,this.gravity=this.playerController.timeJump,this.playerController.jumping=!1,this.playerController.progressBarG.progress=0,this.playerController.node.runAction(this.playerController.setJumpAction()),cc.audioEngine.playEffect(this.jumpAudio,!1),cc.audioEngine.setEffectsVolume(1))},loadMap:function(){return cc.moveBy(2*this.gravity/120,cc.v2(-100-3*this.playerController.timeJump,0))},spawNewPlatform:function(){var t=cc.instantiate(this.platformPrefab);this.node.addChild(t),t.setPosition(this.positionNewplatForm()),t.getComponent("platform").game=this,this.arrPlatForm.push(t)},positionNewplatForm:function(){for(var t=this.arrPlatForm[this.arrPlatForm.length-1].getPosition().y-this.player.width/2,e=this.arrPlatForm[this.arrPlatForm.length-1].getPosition().y+this.player.width/2,n=t+Math.random()*(e-t);n<-300;)n=t+Math.random()*(e-t);return cc.v2(500,n)},update:function(t){if(0==this.gameOver){if(this.playerController.loadMap){this.playerController.loadMap=!1;for(var e=0;e<this.arrPlatForm.length;e++)this.arrPlatForm[e].runAction(this.loadMap());for(e=0;e<this.arrWaterAnim.length;e++)this.arrWaterAnim[e].runAction(this.loadMap())}if(this.arrWaterAnim[4].getPosition().x<-350){this.arrWaterAnim[0].setPosition(cc.v2(-350,this.arrWaterAnim[0].y));for(e=1;e<this.arrWaterAnim.length;e++)this.arrWaterAnim[e].setPosition(this.arrWaterAnim[e-1].x+184,this.arrWaterAnim[0].y)}this.arrPlatForm[this.arrPlatForm.length-1].getPosition().x<350&&this.spawNewPlatform(),0==this.checkMap(this.player.getComponent("Player").rect())&&(this.player.y-=5+this.gravity/120+(this.player.y+400)/400,this.scoreCount+=1,this.canTouch=!1,this.playanim=!0),this.checkWater(this.playerController.rect())&&0==this.checkWaterLogic&&(console.log("haiii"),cc.audioEngine.playEffect(this.waterAudio,!1),this.checkWaterLogic=!0),this.checkMap(this.player.getComponent("Player").rect())&&(this.canTouch=!0,this.playanim&&(this.creatAnim(),this.playanim=!1),console.log("Aaa"+this.canTouch)),this.score.string=this.scoreCount,this.player.y<=-450&&(this.gameOverLB(),this.gameOver=!0)}},colide:function(t,e){return cc.rectIntersectsRect(t,e)},checkMap:function(t){for(var e=0;e<this.arrPlatForm.length;e++)if(t.intersects(this.arrPlatForm[e].getComponent("platform").rect()))return!0;return!1},checkWater:function(t){for(var e=0;e<this.arrWaterAnim.length;e++)if(t.intersects(this.arrWaterAnim[e].getComponent("WaterAnim").rect()))return!0},creatAnim:function(){var t=cc.instantiate(this.scoreFxPrefab).getComponent("ScoreFx");this.node.addChild(t.node),t.node.setPosition(this.player.getPosition().x,this.player.getPosition().y-this.player.height/3),t.play(),cc.audioEngine.playEffect(this.landingAudio,!1),cc.audioEngine.setEffectsVolume(1)},creatWaterAnim:function(t){var e=cc.instantiate(this.waterPrefab).getComponent("WaterAnim");this.node.addChild(e.node),e.node.setPosition(t),e.play(),this.arrWaterAnim.push(e.node)},gameOverLB:function(){this.node.active=!0,this.node.opacity=100,this.HomeUI.active=!0,this.HomeUI.setPosition(cc.v2(0,0)),console.log("gameover"),score=this.scoreCount,this.scoreCount>highScore&&(highScore=this.scoreCount)}}),cc._RF.pop()},{}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"2e623njd2ZOvLS8e5XKgQ4t","Main"),cc.Class({extends:cc.Component,properties:{iconVolum:{default:null,type:cc.Button},iconVolumOff:{default:null,type:cc.SpriteFrame},iconVolumOn:{default:null,type:cc.SpriteFrame},themeAudio:{default:null,type:cc.AudioClip},HomeUI:{default:null,type:cc.Node}},setVolumeIconOff:function(){this.iconVolum.getComponent(cc.Sprite).SpriteFrame=this.iconVolumOff},setVolumeIconOn:function(){this.iconVolum.getComponent(cc.Sprite).SpriteFrame=this.iconVolumOn},onLoad:function(){cc.audioEngine.playMusic(this.themeAudio,!1),cc.audioEngine.setEffectsVolume(1)},start:function(){}}),cc._RF.pop()},{}],PlayAnim:[function(t,e,n){"use strict";cc._RF.push(e,"01963FEFUtHIopAxOEl/IvB","PlayAnim"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){this.anim.play("Animation2")}}),cc._RF.pop()},{}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"1c518QhLxJPOI9kUZcUVs84","Player"),cc.Class({extends:cc.Component,properties:{progressBarG:{default:null,type:cc.ProgressBar},jumpAudio:{default:null,type:cc.AudioClip}},onLoad:function(){this.timeJump=0,this.loadMap=!1,this.jumping=!1,this.progressBarG.progress=0,this.progressBarG.Opacity=0;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0},setJumpAction:function(){this.playanim=!0;var t=cc.moveBy(1.5*this.timeJump/120,cc.v2(0,50+6*this.timeJump)).easing(cc.easeCubicActionOut()),e=cc.rotateBy(1.5*this.timeJump/120,90);return cc.spawn(e,t)},update:function(t){1==this.jumping&&(this.timeJump+=1),0==this.jumping&&(this.timeJump=0);var e=this.progressBarG,n=e.progress;n=this.timeJump/60,e.progress=n,e.node.setPosition(this.node.x,this.node.y+this.node.width/2+20),1==n&&(this.timeJump=0)},rect:function(){return cc.rect(this.node.x-this.node.width/2,this.node.y-this.node.height/2,this.node.width,this.node.height)}}),cc._RF.pop()},{}],ScoreFx:[function(t,e,n){"use strict";cc._RF.push(e,"255f1gfChRG8otPZF4uLQEk","ScoreFx"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){this.anim.play("Animation2")}}),cc._RF.pop()},{}],WaterAnim:[function(t,e,n){"use strict";cc._RF.push(e,"53a21PMbr5AgIBysDIDGNP5","WaterAnim"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){var t=this.anim.play("WaterAnim");t.repeatCount=1/0,t.speed=.5},rect:function(){return cc.rect(this.node.x-this.node.width/2,this.node.y-this.node.height/2,this.node.width,this.node.height)}}),cc._RF.pop()},{}],btn_Play:[function(t,e,n){"use strict";cc._RF.push(e,"b37dfwW37NNwqlzV7dOGivc","btn_Play"),cc.Class({extends:cc.Component,properties:{GamePlayUI:{default:null,type:cc.Node},MainUI:{default:null,type:cc.Node}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.GamePlayUI.active=!0,this.MainUI.active=!1}}),cc._RF.pop()},{}],btn_Replay:[function(t,e,n){"use strict";cc._RF.push(e,"1b8b4ZIixpEt56JzLtp+Vjf","btn_Replay"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on("mousedown",function(t){cc.director.loadScene("Main")})}}),cc._RF.pop()},{}],btn_TapToContinue:[function(t,e,n){"use strict";cc._RF.push(e,"073d1KVSkhIT6zLfKqBfE08","btn_TapToContinue"),cc.Class({extends:cc.Component,properties:{GameOverUI:{default:null,type:cc.Node},GamePlayUI:{default:null,type:cc.Node}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.GamePlayUI.active=!0,this.GameOverUI.active=!1,cc.director.loadScene("Main")}}),cc._RF.pop()},{}],btn_pause:[function(t,e,n){"use strict";cc._RF.push(e,"527efFgE0ZNgZYBURcWnt/s","btn_pause"),cc.Class({extends:cc.Component,properties:{HomeUI:{default:null,type:cc.Node},MainUI:{default:null,type:cc.Node},GamePlayUI:{default:null,type:cc.Node}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.MainUI.setPosition(cc.v2(0,0)),this.MainUI.active=!0,this.GamePlayUI.active=!1}}),cc._RF.pop()},{}],btn_volume:[function(t,e,n){"use strict";cc._RF.push(e,"63acf/25YhEFa2mYVNA5/Iy","btn_volume"),cc.Class({extends:cc.Component,properties:{playMusic:!0},checkMusic:function(){var t=this.getComponent(cc.Toggle);console.log(t.isChecked),0==t.isChecked?(this.playMusic=!1,cc.audioEngine.pauseAll()):(this.playMusic,cc.audioEngine.resumeAll())},callback:function(t){console.log("play button clicked...");this.getComponent(cc.Sprite);this.transition=cc.Button.Transition.SPRITE,cc.audioEngine.stopAllEffects()}}),cc._RF.pop()},{}],ground:[function(t,e,n){"use strict";cc._RF.push(e,"60b0e5IvvRCipmI/UfVAIUJ","ground"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],heal:[function(t,e,n){"use strict";cc._RF.push(e,"3048eJnNaVJO4YvgbGet/Ce","heal"),cc.Class({extends:cc.Component,properties:{},start:function(){console.log("heal")}}),cc._RF.pop()},{}],platform:[function(t,e,n){"use strict";cc._RF.push(e,"18129w5SihDFa2A2mNMtf1M","platform"),cc.Class({extends:cc.Component,properties:{},rect:function(){var t=this.node.width,e=this.node.height;return cc.rect(this.node.x-t/2+10,this.node.y-e/2+20,t-20,e-20)}}),cc._RF.pop()},{}],scoreAnim:[function(t,e,n){"use strict";cc._RF.push(e,"acd62bajEJC/70emjUMA/2k","scoreAnim"),cc.Class({extends:cc.Component,properties:{},hideFx:function(){this.node.parent.removeFromParent()}}),cc._RF.pop()},{}]},{},["Canvas","ConstVar","Game","GameOver","Main","PlayAnim","Player","ScoreFx","WaterAnim","btn_Play","btn_Replay","btn_TapToContinue","btn_pause","btn_volume","ground","heal","platform","scoreAnim"]);