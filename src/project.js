window.__require=function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){return o(e[s][1][t]||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Game:[function(t,e,n){"use strict";cc._RF.push(e,"4ade8pfqgRK4q7LCSogmqkC","Game"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},startGround:{default:null,type:cc.Node},endGround:{default:null,type:cc.Node},platform1:{default:null,type:cc.Node},platform2:{default:null,type:cc.Node},platformPrefab:{default:null,type:cc.Prefab},score:{default:null,type:cc.Label},scoreFxPrefab:{default:null,type:cc.Prefab},themeAudio:{default:null,type:cc.AudioClip},landingAudio:{default:null,type:cc.AudioClip},tabtoContinuePrefab:{default:null,type:cc.Prefab},jumpAudio:{default:null,type:cc.AudioClip},waterPrefab:{default:null,type:cc.Prefab}},onLoad:function(){this.gravity=0,this.gameOver=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},start:function(){this.playerController=this.player.getComponent("Player"),this.arrPlatForm=[],this.arrWaterAnim=[],this.creatWaterAnim(cc.v2(this.endGround.getPosition().x+this.endGround.width/2-4,this.endGround.getPosition().y-this.endGround.height/2));for(var t=1;t<8;t++)this.creatWaterAnim(cc.v2(this.arrWaterAnim[t-1].x+184,this.arrWaterAnim[t-1].y));this.arrPlatForm.push(this.startGround),this.arrPlatForm.push(this.endGround),this.arrPlatForm.push(this.platform1),this.arrPlatForm.push(this.platform2),this.score.string="0",this.playanim=!0,this.scoreCount=0},onTouchStart:function(t){this.playerController.jumping=!0,this.playerController.timeJump=0},onTouchEnd:function(t){this.playerController.loadMap=!0,this.gravity=this.playerController.timeJump,this.playerController.jumping=!1,this.playerController.progressBarG.progress=0,this.playerController.node.runAction(this.playerController.setJumpAction()),cc.audioEngine.playEffect(this.jumpAudio,!1),cc.audioEngine.setEffectsVolume(1)},loadMap:function(){return cc.moveBy(2*this.playerController.timeJump/120,cc.v2(-100-2*this.playerController.timeJump,0))},spawNewPlatform:function(){var t=cc.instantiate(this.platformPrefab);this.node.addChild(t),t.setPosition(this.positionNewplatForm()),t.getComponent("platform").game=this,this.arrPlatForm.push(t)},positionNewplatForm:function(){var t=this.arrPlatForm[this.arrPlatForm.length-1].getPosition().y-this.player.width/3,e=this.arrPlatForm[this.arrPlatForm.length-1].getPosition().y+this.player.width/3,n=t+Math.random()*(e-t);return cc.v2(500,n)},update:function(t){if(0==this.gameOver){if(this.playanim=this.player.getComponent("Player").playanim,this.playerController.loadMap){this.playerController.loadMap=!1;for(var e=0;e<this.arrPlatForm.length;e++)this.arrPlatForm[e].runAction(this.loadMap());for(e=0;e<this.arrWaterAnim.length;e++)this.arrWaterAnim[e].runAction(this.loadMap())}if(this.arrWaterAnim[4].getPosition().x<-350){this.arrWaterAnim[0].setPosition(cc.v2(-350,this.arrWaterAnim[0].y));for(e=1;e<this.arrWaterAnim.length;e++)this.arrWaterAnim[e].setPosition(this.arrWaterAnim[e-1].x+184,this.arrWaterAnim[0].y)}this.arrPlatForm[this.arrPlatForm.length-1].getPosition().x<289&&this.spawNewPlatform(),0==this.checkMap(this.player.getComponent("Player").rect())&&(this.player.y-=5+this.gravity/120,console.log(this.gravity),this.scoreCount+=1),this.checkMap(this.player.getComponent("Player").rect())&&this.playanim&&(this.creatAnim(),cc.audioEngine.playEffect(this.landingAudio,!1),cc.audioEngine.setEffectsVolume(1),this.player.getComponent("Player").playanim=!1),this.score.string=this.scoreCount,this.player.y<=-450&&(this.gameOverLB(),this.gameOver=!0)}},colide:function(t,e){return cc.rectIntersectsRect(t,e)},checkMap:function(t){for(var e=0;e<this.arrPlatForm.length;e++)if(t.intersects(this.arrPlatForm[e].getComponent("platform").rect()))return!0;return!1},creatAnim:function(){var t=cc.instantiate(this.scoreFxPrefab).getComponent("ScoreFx");this.node.addChild(t.node),t.node.setPosition(this.player.getPosition().x,this.player.getPosition().y-this.player.height/3),t.play()},creatWaterAnim:function(t){var e=cc.instantiate(this.waterPrefab).getComponent("WaterAnim");this.node.addChild(e.node),e.node.setPosition(t),e.play(),this.arrWaterAnim.push(e.node),console.log("lengh"+this.arrWaterAnim.length)},gameOverLB:function(){console.log("gameover");var t=cc.instantiate(this.tabtoContinuePrefab);this.node.addChild(t),t.setPosition(cc.v2(12,43)),t.getComponent("btn_Replay").game=this;var e=new cc.Node("New Sprite"),n=e.addComponent(cc.Sprite);e.setPosition(cc.v2(0,180)),e.parent=this.node;cc.loader.loadRes("texture",cc.SpriteAtlas,function(t,e){if(t)console.log(t);else{var i=e.getSpriteFrame("game_over");console.log("Success",i),n.spriteFrame=i}})}}),cc._RF.pop()},{}],PlayAnim:[function(t,e,n){"use strict";cc._RF.push(e,"01963FEFUtHIopAxOEl/IvB","PlayAnim"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){this.anim.play("Animation2")}}),cc._RF.pop()},{}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"1c518QhLxJPOI9kUZcUVs84","Player"),cc.Class({extends:cc.Component,properties:{progressBarG:{default:null,type:cc.ProgressBar},jumpAudio:{default:null,type:cc.AudioClip}},onLoad:function(){this.gravity=0,this.timeJump=0,this.loadMap=!1,this.jumping=!1,this.progressBarG.progress=0,this.progressBarG.Opacity=0,this.playanim=!0;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0},setJumpAction:function(){this.playanim=!0;var t=cc.moveBy(this.timeJump/120,cc.v2(0,50+4*this.timeJump)).easing(cc.easeCubicActionOut()),e=cc.rotateBy(this.timeJump/120*2,90);return cc.spawn(t,cc.delayTime(5),e)},update:function(t){1==this.jumping&&(this.timeJump+=1),0==this.jumping&&(this.timeJump=0);var e=this.progressBarG,n=e.progress;n=this.timeJump/120,e.progress=n,e.node.setPosition(this.node.x,this.node.y+this.node.width/2+20)},rect:function(){return cc.rect(this.node.x-this.node.width/2,this.node.y-this.node.height/2,this.node.width,this.node.height)}}),cc._RF.pop()},{}],ScoreFx:[function(t,e,n){"use strict";cc._RF.push(e,"255f1gfChRG8otPZF4uLQEk","ScoreFx"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){this.anim.play("Animation2")}}),cc._RF.pop()},{}],WaterAnim:[function(t,e,n){"use strict";cc._RF.push(e,"53a21PMbr5AgIBysDIDGNP5","WaterAnim"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},play:function(){var t=this.anim.play("WaterAnim");t.repeatCount=1/0,t.speed=.5}}),cc._RF.pop()},{}],btn_Play:[function(t,e,n){"use strict";cc._RF.push(e,"b37dfwW37NNwqlzV7dOGivc","btn_Play"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on("mousedown",function(t){cc.director.loadScene("Main")})}}),cc._RF.pop()},{}],btn_Replay:[function(t,e,n){"use strict";cc._RF.push(e,"1b8b4ZIixpEt56JzLtp+Vjf","btn_Replay"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on("mousedown",function(t){cc.director.loadScene("Main")})}}),cc._RF.pop()},{}],btn_pause:[function(t,e,n){"use strict";cc._RF.push(e,"527efFgE0ZNgZYBURcWnt/s","btn_pause"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on("mousedown",function(t){cc.director.loadScene("Menu")})}}),cc._RF.pop()},{}],btn_volume:[function(t,e,n){"use strict";cc._RF.push(e,"63acf/25YhEFa2mYVNA5/Iy","btn_volume"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],ground:[function(t,e,n){"use strict";cc._RF.push(e,"60b0e5IvvRCipmI/UfVAIUJ","ground"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],heal:[function(t,e,n){"use strict";cc._RF.push(e,"3048eJnNaVJO4YvgbGet/Ce","heal"),cc.Class({extends:cc.Component,properties:{},start:function(){console.log("heal")}}),cc._RF.pop()},{}],platform:[function(t,e,n){"use strict";cc._RF.push(e,"18129w5SihDFa2A2mNMtf1M","platform"),cc.Class({extends:cc.Component,properties:{},rect:function(){var t=this.node.width,e=this.node.height;return cc.rect(this.node.x-t/2,this.node.y-e/2+20,t,e-20)}}),cc._RF.pop()},{}],scoreAnim:[function(t,e,n){"use strict";cc._RF.push(e,"acd62bajEJC/70emjUMA/2k","scoreAnim"),cc.Class({extends:cc.Component,properties:{},hideFx:function(){this.node.parent.removeFromParent(),console.log("delete anim")}}),cc._RF.pop()},{}]},{},["Game","PlayAnim","Player","ScoreFx","WaterAnim","btn_Play","btn_Replay","btn_pause","btn_volume","ground","heal","platform","scoreAnim"]);